(()=>{"use strict";var t={598:(t,e,n)=>{var o=Object.getPrototypeOf,r={},a=r.toString,d=r.hasOwnProperty,c=d.toString,l=c.call(Object);function i(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?r[a.call(t)]||"object":typeof t}function s(t){var e,n,r=i(t);return!(!t||"object"!==r||(e=o(t))&&("function"!=typeof(n=d.call(e,"constructor")&&e.constructor)||c.call(n)!==l))}function u(t){return"function"==typeof t&&"number"!=typeof t.nodeType}function g(t){return null!=t&&t===t.window}function f(t){var e=!!t&&"length"in t&&t.length,n=i(t);return!u(t)&&!g(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}["Boolean","Number","String","Symbol","Function","Array","Date","RegExp","Object","Error"].forEach((function(t){r["[object "+t+"]"]=t.toLowerCase()}));const p={toType:i,isPlainObject:s,isFunction:u,isWindow:g,isArrayLike:f,merge:function t(e,n){let o=s(e),r=s(n);return o?r?([...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)].forEach((o=>{e[o]=t(e[o],n[o])})),e):e:n},each:function(t,e){var n,o=0;if(f(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(var r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];o<r.length;o++){var a=r[o],d=t[a];if(!1===e.call(d,a,d))break}return t}};function m(){this.pond=[]}m.prototype={constructor:m,on(t){let e=this.pond;!e.includes(t)&&e.push(t)},off(t){let e=this.pond;e.forEach(((n,o)=>n===t?e[o]=null:null))},fire(...t){let e=this.pond;for(let n=0;n<e.length;n++){let o=e[n];"function"==typeof o?o(...t):(e.splice(n,1),n--)}}};const y=m;function _(t){let e=this;e.config=t,e.$drag_modal=null,e.$drag_content=null,e.startX=0,e.startY=0,e.startL=0,e.startT=0,e._MOVE=null,e._UP=null,e.config.drag&&(e.ondragstart=new y,e.ondraging=new y,e.ondragend=new y),e.init()}t=n.hmd(t),_.prototype={version:"1.0.0",constructor:_,init(){let t=this;if(t.create(),t.$drag_content&&t.$drag_content.addEventListener("click",(function(e){let n=e.target,o=n.tagName,r=n.className;if("A"!==o||"drag_close"!==r){if("A"===o&&"drag_button"===r){let e=+n.getAttribute("index"),o=t.config.buttons[e];o&&p.isFunction(o.click)&&o.click.call(t,t)}}else t.close()})),t.config.drag){let e=t.$drag_content.querySelector(".drag_head");e.style.cursor="move",e.addEventListener("mousedown",t.down.bind(t))}},create(){let t=this,e=t.config,n=document.createDocumentFragment();e.modal&&(t.$drag_modal=document.createElement("div"),t.$drag_modal.className="drag_modal",n.appendChild(t.$drag_modal)),t.$drag_content=document.createElement("div"),t.$drag_content.className="drag_content",t.$drag_content.innerHTML=`\n            <div class="drag_head">\n                ${e.title}\n                <a href="javascript:;" class="drag_close"></a>\n            </div>\n            <div class="drag_main">${e.template}</div>\n            ${e.buttons.length>0?`<div class="drag_foot">\n                ${e.buttons.map(((t,e)=>`<a href="javascript:;" class="drag_button" index="${e}">\n                        ${t.text}\n                    </a>`)).join("")}\n            </div>`:""}\n        `,n.appendChild(t.$drag_content),document.body.appendChild(n),n=null,t.$drag_content.offsetHeight,t.$drag_modal&&(t.$drag_modal.style.opacity=1),t.$drag_content.style.opacity=1,t.$drag_content.style.left=(document.documentElement.clientWidth-t.$drag_content.offsetWidth)/2+"px",t.$drag_content.style.top=(document.documentElement.clientHeight-t.$drag_content.offsetHeight)/2+"px",t.$drag_content.style.transform="translate(0,0)",t.config.onopen.call(t,t)},close(){let t=this,e=document.body;t.$drag_modal&&(t.$drag_modal.style.opacity=0,t.$drag_modal.ontransitionend=()=>{e.removeChild(t.$drag_modal),t.$drag_modal=null}),t.$drag_content&&(t.$drag_content.style.opacity=0,t.$drag_content.ontransitionend=()=>{e.removeChild(t.$drag_content),t.$drag_content=null,t.config.onclose.call(t,t)})},down(t){let e=this;e.startX=t.pageX,e.startY=t.pageY,e.startL=e.$drag_content.offsetLeft,e.startT=e.$drag_content.offsetTop,e._MOVE=e.move.bind(e),e._UP=e.up.bind(e),document.addEventListener("mousemove",e._MOVE),document.addEventListener("mouseup",e._UP),e.ondragstart.fire(e)},move(t){let e=this,n=t.pageX-e.startX+e.startL,o=t.pageY-e.startY+e.startT,r=document.documentElement,a=r.clientWidth-e.$drag_content.offsetWidth,d=r.clientHeight-e.$drag_content.offsetHeight;n=n<0?0:n>a?a:n,o=o<0?0:o>d?d:o,e.$drag_content.style.left=n+"px",e.$drag_content.style.top=o+"px",e.ondraging.fire(e)},up(){let t=this;document.removeEventListener("mousemove",t._MOVE),document.removeEventListener("mouseup",t._UP),t.ondragend.fire(t)}};const h={title:{type:"string",default:"系统温馨提示"},template:{type:"string",required:!0},buttons:{type:"array",default:[]},modal:{type:"boolean",default:!0},drag:{type:"boolean",default:!0},onopen:{type:"function",default:()=>{}},onclose:{type:"function",default:()=>{}}},$=function(t){(!t||"object"!=typeof t)&&(t={});let e={};for(const n in h){const o=h[n];let r=t[n],{type:a,default:d,required:c}=o;if(void 0===r){if(c)throw new TypeError(`${n} must be required!`);e[n]=d}else{if(p.toType(r)!==a)throw new TypeError(`${n} must be an ${a}!`);e[n]=p.merge(d,r)}}return new _(e)};"undefined"!=typeof window&&(window.M=window.ModalPlugin=$),"object"==typeof t.exports&&(t.exports=$)}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,loaded:!1,exports:{}};return t[o](a,a.exports,n),a.loaded=!0,a.exports}n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n(598)})();